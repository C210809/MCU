C51 COMPILER V9.60.0.0   LED                                                               09/21/2023 19:32:13 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN .\Objects\LED.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE LED.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\LED.l
                    -st) TABS(2) OBJECT(.\Objects\LED.obj)

line level    source

   1          #include "reg52.h"
   2          #define uint unsigned int
   3          
   4          sbit HC138_A = P2^5;
   5          sbit HC138_B = P2^6;
   6          sbit HC138_C = P2^7;
   7          
   8          void HC138(uint n) 
   9          {
  10   1        switch(n)
  11   1        {
  12   2          case 4:
  13   2            HC138_C = 1;
  14   2            HC138_B = 0;
  15   2            HC138_A = 0;
  16   2            break;
  17   2          case 5:
  18   2            HC138_C = 1;
  19   2            HC138_B = 0;
  20   2            HC138_A = 1;
  21   2            break;
  22   2          case 6:
  23   2            HC138_C = 1;
  24   2            HC138_B = 1;
  25   2            HC138_A = 0;
  26   2            break;
  27   2          case 7:
  28   2            HC138_C = 1;
  29   2            HC138_B = 1;
  30   2            HC138_A = 1;
  31   2            break;
  32   2        }
  33   1      }
  34          
  35          void Delay(uint t)
  36          {
  37   1        while (t--);
  38   1        while (t--);
  39   1      }
  40          
  41          void LEDRunning()
  42          {
  43   1        unsigned char i;
  44   1        HC138_C = 1;
  45   1        HC138_B = 0;
  46   1        HC138_A = 0;
  47   1        
  48   1        /*
  49   1        P0 = 0x00;  // LED全亮
  50   1        Delay(60000);
  51   1        P0 = 0xff;  // LED全灭
  52   1        Delay(60000);
  53   1        */
  54   1        
C51 COMPILER V9.60.0.0   LED                                                               09/21/2023 19:32:13 PAGE 2   

  55   1        for (i = 1; i <= 8; i += 2)
  56   1        {
  57   2          P0 = (0xff << i);
  58   2          Delay(60000);
  59   2        }
  60   1        
  61   1        for (i = 1; i <= 8; i += 2)
  62   1        {
  63   2          P0 = ~(0xff << i);
  64   2          Delay(60000);
  65   2        }
  66   1      }
  67          
  68          void main()
  69          {
  70   1        HC138(5);
  71   1        P0 = 0x00;
  72   1        while (1)
  73   1        {
  74   2          LEDRunning();
  75   2        }
  76   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    156    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
