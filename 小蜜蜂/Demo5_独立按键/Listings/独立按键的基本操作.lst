C51 COMPILER V9.60.0.0   __________________                                                09/24/2023 15:50:26 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE __________________
OBJECT MODULE PLACED IN .\Objects\独立按键的基本操作.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE 独立按键的基本操作.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\Listings\独立按键的基本操作.lst) TABS(2) OBJECT(.\Objects\独立按键的基本操作.obj)

line level    source

   1          #include <reg52.h>
   2          #define uchar unsigned char
   3          #define uint unsigned int
   4          
   5          sbit S7 = P3 ^ 0;
   6          sbit S6 = P3 ^ 1;
   7          sbit S5 = P3 ^ 2;
   8          sbit S4 = P3 ^ 3;
   9          
  10          sbit L1 = P0 ^ 0;
  11          sbit L2 = P0 ^ 1;
  12          sbit L3 = P0 ^ 2;
  13          sbit L4 = P0 ^ 3;
  14          sbit L5 = P0 ^ 4;
  15          sbit L6 = P0 ^ 5;
  16          
  17          void HC138(uchar channel)
  18          {
  19   1        switch (channel)
  20   1        {
  21   2          case 4:
  22   2            P2 = (P2 & 0x1f) | 0x80;
  23   2          break;
  24   2          case 5:
  25   2            P2 = (P2 & 0x1f) | 0xa0;
  26   2          break;
  27   2          case 6:
  28   2            P2 = (P2 & 0x1f) | 0xc0;
  29   2          break;
  30   2          case 7:
  31   2            P2 = (P2 & 0x1f) | 0xe0;
  32   2          break;
  33   2        }
  34   1      }
  35          
  36          void OutPutP0(uchar channel, uchar dat)
  37          {
  38   1        HC138(channel);
  39   1        P0 = dat;
  40   1      }
  41          
  42          void DelayK(uchar t)
  43          {
  44   1        while(t--);
  45   1      }
  46          
  47          void ScanKeys_Alone()
  48          {
  49   1        OutPutP0(4, 0xff);
  50   1        if (S7 == 0)
  51   1        {
  52   2          DelayK(100);
  53   2          if (S7 == 0) 
  54   2          {
C51 COMPILER V9.60.0.0   __________________                                                09/24/2023 15:50:26 PAGE 2   

  55   3            L1 = 0;
  56   3            while (S7 == 0);
  57   3            L1 = 1;
  58   3          }
  59   2        }
  60   1        if (S6 == 0)
  61   1        {
  62   2          DelayK(100);
  63   2          if (S6 == 0)
  64   2          {
  65   3            L2 = 0;
  66   3            while (S6 == 0);
  67   3            L2 = 1;
  68   3          }
  69   2        }
  70   1        if (S5 == 0)
  71   1        {
  72   2          DelayK(100);
  73   2          if (S5 == 0)
  74   2          {
  75   3            L3 = 0;
  76   3            while (S5 == 0);
  77   3            L3 = 1;
  78   3          }
  79   2        }
  80   1        if (S4 == 0)
  81   1        {
  82   2          DelayK(100);
  83   2          if (S4 == 0)
  84   2          {
  85   3            L4 = 0;
  86   3            while (S4 == 0);
  87   3            L4 = 1;
  88   3          }
  89   2        }
  90   1      }
  91          
  92          void main()
  93          {
  94   1        while(1)
  95   1        {
  96   2          ScanKeys_Alone();
  97   2        }
  98   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    149    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
